<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script>
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
    </script>
    {% include header.html %}
  </head>
  <body>
      <div class="container">
        <h1 class="text-center">Модель роста фон Берталанфи</h1>
        <h4 class="text-center">В 1938 году Людвиг фон Берталанфи, основоположник общей теории систем, сформулировал знаменитое уравнение роста живого существа</h4>
        $$L(t)={ L }_{ K }-({ L }_{ K }-{ L }_{ 0 }){ e }^{ -kt }$$
        <h4 class="text-center">Вы можете создать собственное существо, задав его произвольными параметрами</h4>
        <div class="row">
          <div class="col-md-4">$${ L }_{ 0 }$$<input id="l0" type="text" class="form-control"></div>
          <div class="col-md-4">$${ L }_{ K }$$<input id="lk" type="text" class="form-control"></div>
          <div class="col-md-4">$$k$$<input id="k" type="text" class="form-control"></div>
        </div>
        <div class="row">
          <div class="col-md-4">Конечное время моделирования<input id="maxt" type="text" class="form-control"></div>
        </div>
        <br>
        <div class="text-center">
          <div class="btn-group">
            <button onclick="plot()" type="button" class="btn btn-default dropdown-toggle">Построить график</button>
          </div>
        </div>
        <div class="text-center">
          <div id="plot"></div>
        </div>
      </div>
  </body>
</html>
<script>
  function param(id) {
    return parseFloat(document.getElementById(id).value)
  }

  function plot() {
    var l0 = param('l0')
    var lk = param('lk')
    var k = param('k')
    var maxt = param('maxt')

    functionPlot({
      target: '#plot',
      xAxis: {domain: [0, maxt]},
      disableZoom: true,
      data: [{
        fn: lk+'-('+lk+'-'+l0+')*exp(-'+k+'*x)'
      }]
    })
  }
</script>
